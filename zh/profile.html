<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>账户信息</title>
    <script type="text/javascript" src="common.js"></script>
    <script type="text/javascript" src="js/profile.js"></script>
    <script type="text/javascript" src="../Assets/common/js/profile.js"></script>
    <script type="text/javascript" src="../Assets/common/generalFunctions.js"></script>
    <script>
        $(document).ready(function(){
            $("#headerContent").load("header.html");
            $("#footerContent").load("../Assets/common/footer.html");
            setTimeout(() => displayInfo(), 50);
            setTimeout(() => navBlockColor(), 50);
        });
    </script>
</head>
<body onload="checkLoginAndDisplay()">
<!--General Message Model-->
<div class="modal fade" id="messageModel" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <p id="message_model_message"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>

<!--Edit Username Model-->
<div class="modal fade" id="usernameModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">修改用户名</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">账户密码</label>
                        <div class="col-sm-10">
                            <input type="password" name="passwordOld" class="form-control" id="username_password">
                            <span class="help-block"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">用户名</label>
                        <div class="col-sm-10">
                            <input type="text" name="usernameNew" class="form-control" id="new_username">
                            <span class="help-block"></span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" onclick="saveUsername()">确认</button>
            </div>
        </div>
    </div>
</div>

<!--Edit Password Model-->
<div class="modal fade" id="passwordModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">修改密码</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">旧密码</label>
                        <div class="col-sm-10">
                            <input type="password" name="passwordOld" class="form-control" id="old_password">
                            <span class="help-block"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">新密码</label>
                        <div class="col-sm-10">
                            <input type="password" name="passwordNew" class="form-control" id="new_password">
                            <span class="help-block"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">再输一次</label>
                        <div class="col-sm-10">
                            <input type="password" name="passwordRepeat" class="form-control" id="repeat_password">
                            <span class="help-block"></span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" onclick="savePassword()">确认</button>
            </div>
        </div>
    </div>
</div>

<!--Edit Email Model-->
<div class="modal fade" id="emailModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">修改邮箱</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">账户密码</label>
                        <div class="col-sm-10">
                            <input type="password" name="passwordOld" class="form-control" id="email_password">
                            <span class="help-block"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">邮箱</label>
                        <div class="col-sm-10">
                            <input type="text" name="emailNew" class="form-control" id="new_email">
                            <span class="help-block"></span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" onclick="saveEmail()">确认</button>
            </div>
        </div>
    </div>
</div>

<div id="headerContent"></div>
<div class="container">
    <div class="row" style="font-size: 1.2em;font-family: STXingkai,serif;">
        <div class="col-md-12">
            <h2>账户信息</h2>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12" style="font-size: 1.5em;">
            <table class="table">
                <tr>
                    <th>用户名</th>
                    <td><span id="username"></span></td>
                    <td><button type="button" class="btn btn-primary" onclick="editUsername()">修改</button></td>
                </tr>
                <tr>
                    <th>密码</th>
                    <td><span id="password"></span></td>
                    <td><button type="button" class="btn btn-primary" onclick="editPassword()">修改</button></td>
                </tr>
                <tr>
                    <th>邮箱</th>
                    <td><span id="email"></span></td>
                    <td><button type="button" class="btn btn-primary" onclick="editEmail()">修改</button></td>
                </tr>
            </table>
        </div>
    </div>
</div>
<div id="footerContent"></div>
</body>
</html>